# 🏗️ ConTech Pro - מערכת ניהול בנייה מקצועית

מערכת ניהול בנייה חכמה המשלבת זיהוי קירות אוטומטי, חיזוי התקדמות, ניהול תקציב וחומרים.

## ✨ תכונות עיקריות

### 🤖 זיהוי חכם
- **זיהוי קירות אוטומטי** מ-PDF תוכניות באמצעות OpenCV
- **חילוץ מטא-דאטה חכם** עם LLM (Groq - Llama3)
- **כיול מדויק** של סקלה ויחידות מידה

### 👷‍♂️ דיווח ביצוע
- **ממשק ציור אינטואיטיבי** לדיווח עבודה שבוצעה
- **זיהוי חכם** של חיתוך בין עבודה שבוצעה לקירות המתוכננים
- **חישוב אוטומטי** של מטרים שנבנו

### 📊 דשבורד מנהל
- **חיזוי התקדמות** - קצב עבודה ממוצע, ימים לסיום, תאריך סיום משוער
- **ניהול תקציב** - מעקב תקציב נוכחי מול תקציב כולל
- **הערכת חומרים** - בלוקים, מלט, חול ושטח קירות
- **תצוגה ויזואלית** של התקדמות וניצול תקציב

## 🚀 התקנה והפעלה

### דרישות מוקדמות
- Python 3.8+
- pip

### התקנה

1. **שכפל את ה-repository:**
```bash
git clone <repository-url>
cd ConTech
```

2. **התקן את התלויות:**
```bash
pip install -r requirements.txt
```

3. **הגדר את API Key:**
   - צור קובץ `.streamlit/secrets.toml`
   - הוסף את ה-API key שלך מ-Groq:
```toml
GROQ_API_KEY = "your-api-key-here"
```

4. **הפעל את האפליקציה:**
```bash
streamlit run app.py
```

האפליקציה תיפתח בדפדפן ב-`http://localhost:8501`

## 📁 מבנה הפרויקט

```
ConTech/
├── app.py              # האפליקציה הראשית (Streamlit UI)
├── analyzer.py         # זיהוי קירות אוטומטי
├── brain.py            # חילוץ מטא-דאטה עם LLM
├── database.py         # ניהול מסד נתונים
├── requirements.txt    # תלויות Python
├── .streamlit/
│   └── secrets.toml    # API keys (לא מועלה ל-Git)
└── README.md           # קובץ זה
```

## 🔧 שימוש

### מצב מנהל
1. **עלה תוכנית PDF** בטאב "ניהול וכיול"
2. המערכת תזהה אוטומטית:
   - שם התוכנית
   - סקלה
   - יחידות מידה
   - קירות (בכחול)
3. **ערוך והגדר:**
   - שם תוכנית
   - סקלה (תקן אם נדרש)
   - תאריך יעד לסיום
   - תקציב כולל
   - עלות למטר
4. **הערכת חומרים** תוצג אוטומטית
5. לחץ **"אשר ושמור למערכת"**

### מצב עובד
1. בחר "דיווח ביצוע (Worker)"
2. בחר תוכנית מהרשימה
3. צייר על התמונה **בצבע ירוק** את העבודה שבוצעה
4. המערכת תחשב אוטומטית את המטרים שבוצעו
5. הוסף הערה (אופציונלי) ולחץ "שמור דיווח"

### דשבורד פרויקט
- **חיזוי וקצב עבודה:** קצב ממוצע, עבודה נותרה, ימים לסיום
- **מצב פיננסי:** תקציב כולל, עלות נוכחית, יתרה/חריגה
- **הערכת חומרים:** בלוקים, מלט, חול, שטח קירות
- **דיווחי ביצוע:** טבלת כל הדיווחים

## 🔐 אבטחה

- **API Keys:** הקבצים `.streamlit/secrets.toml` ו-`key.txt` לא מועלים ל-Git
- הוסף את ה-API keys שלך באופן מקומי בלבד

## 📝 הגדרות נוספות

### הגדרות פרויקט (Sidebar)
- **גובה קירות:** ברירת מחדל 2.5 מטר (משפיע על חישובי חומרים)
- **עלות למטר:** עלות למטר קיר (משפיע על חישוב תקציב)

### אזור מסוכן
- **איפוס נתונים:** מחיקת כל התוכניות והדיווחים (לא ניתן לבטל!)

## 🐛 פתרון בעיות

### שגיאת API Key
- ודא ש-`GROQ_API_KEY` מוגדר ב-`.streamlit/secrets.toml`
- ודא שהקובץ נמצא בתיקייה `.streamlit/`

### קירות לא מזוהים
- ודא שה-PDF באיכות טובה
- נסה לבדוק את תמונת הזיהוי בטאב "ניהול וכיול"

## 📄 רישיון

פרויקט זה הוא חופשי לשימוש פרטי ומסחרי.

## 👤 קשר

לשאלות ותמיכה, אנא פתח issue ב-GitHub.

---

**נבנה עם ❤️ עבור תעשיית הבנייה**
